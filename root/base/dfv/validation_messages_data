[%
    SET error_message = {
        # messages for missing fields
        missing => {
            new_email_address           => 'forms.missing.email.address',
            new_first_name              => 'forms.missing.firstname',
            new_last_name               => 'forms.missing.lastname',
            new_password                => 'forms.missing.password',
            new_password_confirm        => 'forms.missing.password.confirm',
            new_username                => 'forms.missing.username',

            password                    => 'MISSING_PASSWORD',
            username                    => 'MISSING_USERNAME',
            verified_permission         => 'MISSING_UPLOAD_VERIFICATION',

            moon_stick                  => 'I demand the MOON! On a STICK!',
        },

        # messages for invalid fields (failed constraints)
        invalid => {
            'american_phone'            => 'should be an American phone number',
            'constraint_confirm_equal'  => 'values do not match',
            'email'                     => 'should be an email address',
            'passwords-do-not-match'    => 'form.errors.password.mismatch',
            'username-not-unique'       => 'the requested username is already in use',
            'cleavage-file-missing'     => 'MISSING CLEAVAGE FILE',
            'cleavage-wrong-mimetype'   => 'CLEAVAGE WRONG MIMETYPE',
            'image-too-large'           => 'IMAGE TOO LARGE',
            'rating-out-of-range'       => 'RATING OUT OF RANGE',
            'no-matching-users'         => 'NO_MATCHING_USERS',

            # reCAPTCHA messages (from: http://recaptcha.net/apidocs/captcha/)
            'incorrect-captcha-sol'     => 'the CAPTCHA solution was incorrect',
            'recaptcha-not-reachable'   => 'unable to contact the reCAPTCHA verify server',
            'User appears not to have submitted a recaptcha' => 'recaptcha.errors.not.submitted',
        },

        # mappings from field names to something we'd like to show the user
        name => {
            email_address               => 'Email Address',
            password                    => 'Password',
            password_confirm            => 'Password Confirmation',
            recaptcha                   => 'reCAPTCHA',
            username                    => 'Username',
            new_username                => 'Username',
            cleavage_file               => 'FORM CLEAVAGE FILE',
            login_credentials           => 'LOGIN_CREDENTIALS',
            new_password_confirm        => 'forms.field.password.confirm',
        },
    }
%]
